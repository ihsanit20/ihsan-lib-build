import{r as b,j as C,k as P,c as r,b as o,x as _,a as m,l as v,K as x,F as p,h as g,u as l,t as f,i as V,o as s}from"./vue-D0mF8XVW.js";import{d as q,L as A,e as B}from"./index-Ck0kI_ww.js";import{u as F}from"./author-BvZs2rXR.js";import{u as L}from"./category-Cl3Snluj.js";import{u as U}from"./publisher-CHMEcy26.js";import"./vendor-BtuGy7By.js";const D={class:"my-container py-8 space-y-6"},M={class:"card-bg md:flex-row p-4 items-center md:space-x-4"},N={class:"w-full flex items-center gap-3"},R=["value"],j={class:"w-full flex items-center gap-3"},E=["value"],K={class:"w-full flex items-center gap-3"},$=["value"],z={key:1,class:"text-red-500 text-center"},G={key:2,class:"text-center text-gray-500"},H={key:3,class:"grid grid-cols-2 sm:grid-cols-3 md:grid-cols-4 lg:grid-cols-5 gap-4 md:gap-8"},Y={__name:"AllProducts",setup(I){const y=C(),S=V(),i=q(),h=L(),w=F(),k=U(),a=b(y.query.category_id||""),d=b(y.query.author_id||""),n=b(y.query.publisher_id||""),c=async()=>{const u={};a.value&&(u.category_id=a.value),d.value&&(u.author_id=d.value),n.value&&(u.publisher_id=n.value),S.push({path:"/products",query:u}),await i.fetchFilteredProducts(u)};return P(async()=>{await h.fetchCategories(),await w.fetchAuthors(),await k.fetchPublishers(),await c()}),(u,e)=>(s(),r("div",D,[e[10]||(e[10]=o("h1",{class:"title-xl text-center"},"এক নজরে সকল বই",-1)),o("div",M,[o("div",N,[e[4]||(e[4]=o("label",{for:"category",class:"block text-sm font-medium text-gray-700"},"ক্যাটেগরি:",-1)),v(o("select",{id:"category","onUpdate:modelValue":e[0]||(e[0]=t=>a.value=t),onChange:c,class:"mt-1 block w-full px-3 py-2 bg-white border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-indigo-500 focus:border-indigo-500 sm:text-sm"},[e[3]||(e[3]=o("option",{value:""},"সব ক্যাটেগরি",-1)),(s(!0),r(p,null,g(l(h).categories,t=>(s(),r("option",{key:t.id,value:t.id},f(t.name),9,R))),128))],544),[[x,a.value]])]),o("div",j,[e[6]||(e[6]=o("label",{for:"author",class:"block text-sm font-medium text-gray-700"},"লেখক:",-1)),v(o("select",{id:"author","onUpdate:modelValue":e[1]||(e[1]=t=>d.value=t),onChange:c,class:"mt-1 block w-full px-3 py-2 bg-white border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-indigo-500 focus:border-indigo-500 sm:text-sm"},[e[5]||(e[5]=o("option",{value:""},"সব লেখক",-1)),(s(!0),r(p,null,g(l(w).authors,t=>(s(),r("option",{key:t.id,value:t.id},f(t.name),9,E))),128))],544),[[x,d.value]])]),o("div",K,[e[8]||(e[8]=o("label",{for:"publisher",class:"block text-sm font-medium text-gray-700"},"প্রকাশক:",-1)),v(o("select",{id:"publisher","onUpdate:modelValue":e[2]||(e[2]=t=>n.value=t),onChange:c,class:"mt-1 block w-full px-3 py-2 bg-white border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-indigo-500 focus:border-indigo-500 sm:text-sm"},[e[7]||(e[7]=o("option",{value:""},"সব প্রকাশক",-1)),(s(!0),r(p,null,g(l(k).publishers,t=>(s(),r("option",{key:t.id,value:t.id},f(t.name),9,$))),128))],544),[[x,n.value]])])]),l(i).loading?(s(),_(A,{key:0})):m("",!0),l(i).error?(s(),r("div",z,f(l(i).error),1)):m("",!0),!l(i).loading&&l(i).products.length===0?(s(),r("div",G,e[9]||(e[9]=[o("p",null,"কোন পণ্য পাওয়া যায়নি।",-1)]))):m("",!0),l(i).products.length>0?(s(),r("div",H,[(s(!0),r(p,null,g(l(i).products,t=>(s(),_(B,{key:t.id,book:t},null,8,["book"]))),128))])):m("",!0)]))}};export{Y as default};
