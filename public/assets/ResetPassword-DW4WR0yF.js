import{r as t,k,j as q,i as P,c as v,b as s,J as C,a as x,q as V,t as m,l as b,L as h,n as g,o as w}from"./vue-D0mF8XVW.js";import{u as S}from"./index-Ck0kI_ww.js";import"./vendor-BtuGy7By.js";const j={class:"max-w-md mx-auto my-10 px-2"},B={class:"bg-white p-6 rounded-lg shadow-md"},D={class:"font-medium text-gray-900 text-center"},M={class:"font-bold"},N={class:"relative"},R=["type"],T={class:"relative"},E=["type"],U={key:0,class:"mt-4 text-sm text-red-500 text-center"},$={key:1,class:"mt-4 text-sm text-green-500 text-center"},L={__name:"ResetPassword",setup(z){const i=t(""),d=t(""),p=t(""),n=t(""),r=t(""),f=S(),o=q(),y=P(),l=t(!1),u=t(!1),_=async()=>{try{const c=o.query.phone;await f.resetPassword(o.query.otp,c||p.value,i.value,d.value)&&(r.value="Password reset successfully.",n.value="",setTimeout(()=>{y.push("/login")},2e3))}catch{n.value=f.error||"Failed to reset password. Try again.",r.value=""}};return k(()=>{if(!o.query.otp)return y.replace("/join");o.query.phone&&(p.value=o.query.phone)}),(c,e)=>(w(),v("div",j,[s("div",B,[e[8]||(e[8]=s("h2",{class:"title-lg text-center"},"রিসেট পাসওয়ার্ড",-1)),s("form",{onSubmit:C(_,["prevent"]),class:"space-y-4"},[s("div",D,[e[4]||(e[4]=V(" আপনার ফোন ")),s("span",M,m(p.value),1)]),s("div",null,[e[5]||(e[5]=s("label",{for:"new-password",class:"block font-medium text-gray-700"},"নতুন পাসওয়ার্ড",-1)),s("div",N,[b(s("input",{"onUpdate:modelValue":e[0]||(e[0]=a=>i.value=a),type:l.value?"text":"password",id:"new-password",name:"new-password",class:"input-1 w-full",placeholder:"Enter new password",required:""},null,8,R),[[h,i.value]]),s("button",{type:"button",class:"absolute inset-y-0 right-0 px-3 text-gray-600",onClick:e[1]||(e[1]=a=>l.value=!l.value)},[s("i",{class:g(l.value?"fas fa-eye-slash":"far fa-eye")},null,2)])])]),s("div",null,[e[6]||(e[6]=s("label",{for:"new-password-confirmation",class:"block font-medium text-gray-700"}," পাসওয়ার্ড নিশ্চিৎ করুন",-1)),s("div",T,[b(s("input",{"onUpdate:modelValue":e[2]||(e[2]=a=>d.value=a),type:u.value?"text":"password",id:"new-password-confirmation",name:"new-password-confirmation",class:"input-1 w-full",placeholder:"Confirm new password",required:""},null,8,E),[[h,d.value]]),s("button",{type:"button",class:"absolute inset-y-0 right-0 px-3 text-gray-600",onClick:e[3]||(e[3]=a=>u.value=!u.value)},[s("i",{class:g(u.value?"fas fa-eye-slash":"far fa-eye")},null,2)])])]),n.value?(w(),v("div",U,m(n.value),1)):x("",!0),r.value?(w(),v("div",$,m(r.value),1)):x("",!0),e[7]||(e[7]=s("div",{class:"flex justify-center"},[s("button",{type:"submit",class:"btn-2"},"রিসেট পাসওয়ার্ড")],-1))],32)])]))}};export{L as default};
