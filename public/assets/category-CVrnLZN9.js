import{l as v,r as u,m as c}from"./index-Bmm_wY_4.js";const w=v("category",()=>{const o=u([]),i=u(null),l=u(!1),s=u(null);return{categories:o,category:i,loading:l,error:s,fetchCategories:async()=>{var r,t;l.value=!0,s.value=null;try{const a=await c.get("/categories");o.value=a.data}catch(a){s.value=((t=(r=a.response)==null?void 0:r.data)==null?void 0:t.message)||"Failed to fetch categories"}finally{l.value=!1}},fetchCategory:async r=>{var t,a;l.value=!0,s.value=null;try{const e=await c.get(`/categories/${r}`);i.value=e.data}catch(e){s.value=((a=(t=e.response)==null?void 0:t.data)==null?void 0:a.message)||"Failed to fetch category"}finally{l.value=!1}},createCategory:async r=>{var t,a;l.value=!0,s.value=null;try{const e=await c.post("/categories",r);o.value.push(e.data)}catch(e){throw s.value=((a=(t=e.response)==null?void 0:t.data)==null?void 0:a.message)||"Failed to create category",e}finally{l.value=!1}},updateCategory:async(r,t)=>{var a,e;l.value=!0,s.value=null;try{const n=await c.put(`/categories/${r}`,t),g=o.value.findIndex(y=>y.id===r);g!==-1&&(o.value[g]=n.data)}catch(n){throw s.value=((e=(a=n.response)==null?void 0:a.data)==null?void 0:e.message)||"Failed to update category",n}finally{l.value=!1}},deleteCategory:async r=>{var t,a;l.value=!0,s.value=null;try{await c.delete(`/categories/${r}`),o.value=o.value.filter(e=>e.id!==r)}catch(e){throw s.value=((a=(t=e.response)==null?void 0:t.data)==null?void 0:a.message)||"Failed to delete category",e}finally{l.value=!1}}}});export{w as u};
