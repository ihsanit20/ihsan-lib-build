import{x as w,r as s,u as b,n as g,c as o,a as e,w as k,h as x,t as v,b as O,v as T,d as c,B as V,o as l,k as P}from"./index-Bmm_wY_4.js";const S={class:"max-w-md mx-auto my-10 px-2"},q={class:"bg-white p-6 rounded-lg shadow-md"},B={class:"font-medium text-gray-900 text-center"},I={class:"font-bold"},M={class:"flex justify-center items-center"},N={key:0,class:"loader"},R={key:1,class:"text-green-500 text-2xl"},j={key:0,class:"mt-4 text-sm text-red-500 text-center"},D={key:1,class:"mt-4 text-sm text-green-500 text-center"},E={class:"flex justify-center"},A=["disabled"],C={__name:"OtpVerification",setup(U){const n=s(""),r=s(""),u=s(""),i=s(""),a=s(!1),d=s(!1),p=b(),_=P(),f=V(),h=async()=>{a.value=!0,d.value=!1;try{await p.verifyOtp(n.value,r.value)&&(i.value="OTP verification completed.",u.value="",a.value=!1,d.value=!0,setTimeout(()=>{_.push({name:"ResetPassword",query:{phone:n.value,otp:r.value}})},2e3))}catch{u.value=p.error||"Invalid OTP. Please try again.",i.value="",a.value=!1}};return g(()=>{f.query.phone&&(n.value=f.query.phone)}),(m,t)=>(l(),o("div",S,[e("div",q,[t[4]||(t[4]=e("h2",{class:"title-lg text-center"},"ওটিপি ভেরিফিকেশন",-1)),e("form",{onSubmit:k(h,["prevent"]),class:"space-y-4"},[e("div",B,[t[1]||(t[1]=x(" এই ফোন নাম্বারে (")),e("span",I,v(n.value),1),t[2]||(t[2]=x(") একটি ওটিপি পাঠানো হয়েছে। "))]),e("div",null,[O(e("input",{"onUpdate:modelValue":t[0]||(t[0]=y=>r.value=y),type:"text",id:"otp",name:"otp",class:"input-1 w-full",placeholder:"Enter the OTP",required:""},null,512),[[T,r.value]])]),e("div",M,[a.value?(l(),o("span",N)):c("",!0),d.value?(l(),o("span",R,t[3]||(t[3]=[e("i",{class:"fad fa-check-circle"},null,-1)]))):c("",!0)]),u.value?(l(),o("div",j,v(u.value),1)):c("",!0),i.value?(l(),o("div",D,v(i.value),1)):c("",!0),e("div",E,[e("button",{type:"submit",class:"btn-2",disabled:a.value},"ভেরিফাই করুন",8,A)])],32)])]))}},F=w(C,[["__scopeId","data-v-88c3da1a"]]);export{F as default};
