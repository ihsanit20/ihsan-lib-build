import{_ as h}from"./HeaderWithButtons-DqqWPkzE.js";import{_ as k,a as w}from"./EditIncomeExpenseHead-DNOo1Tu5.js";import{u as E}from"./income-expense-head-DvcAslOi.js";import{r as l,k as H,f as I,c as n,a as e,e as C,F as b,h as M,t as i,b as u,x,o as s}from"./vue-yak9Aluo.js";import"./index-C9qZyAe9.js";import"./vendor-upsvKRUO.js";const N={class:"my-container space-y-4"},O={class:"overflow-x-auto bg-white shadow rounded-lg"},B={class:"table-auto w-full border-collapse border border-gray-200"},L={key:0},S={key:1},V={class:"px-4 py-3 border border-gray-200"},$={class:"px-4 py-3 border border-gray-200"},A={class:"px-4 py-3 border border-gray-200 text-center"},D=["onClick"],z={key:0,class:"mt-4 text-red-600 text-sm text-center"},R={__name:"IncomeHeadView",setup(F){const p=E(),a=l(!1),o=l(null),c=l(null),m=l(!0);H(async()=>{try{await p.fetchIncomeExpenseHeads({type:"Income"})}catch(r){c.value=r.message}finally{m.value=!1}});const y=I(()=>[...p.incomeExpenseHeads].sort((r,t)=>new Date(t.created_at)-new Date(r.created_at))),v=r=>{o.value=r,a.value=!0},g=()=>{o.value=null,a.value=!0},_=()=>{a.value=!1,o.value=null};return(r,t)=>(s(),n(b,null,[e("div",N,[C(h,{title:"আয়ের খাত",onAdd:g}),e("div",O,[e("table",B,[t[2]||(t[2]=e("thead",null,[e("tr",{class:"bg-gray-200 text-left text-gray-700 uppercase text-sm tracking-wider"},[e("th",{class:"px-4 py-3 border border-gray-200"},"SL"),e("th",{class:"px-4 py-3 border border-gray-200"},"Name"),e("th",{class:"px-4 py-3 border border-gray-200 text-center"},"Actions")])],-1)),e("tbody",null,[m.value?(s(),n("tr",L,t[0]||(t[0]=[e("td",{colspan:"3",class:"text-center py-6"},[e("div",{class:"flex justify-center items-center space-x-2"},[e("div",{class:"w-6 h-6 border-4 border-t-4 border-gray-300 rounded-full animate-spin"}),e("span",null,"Loading...")])],-1)]))):y.value.length===0?(s(),n("tr",S,t[1]||(t[1]=[e("td",{colspan:"3",class:"text-center py-6 text-gray-500"},"No Income Heads found",-1)]))):(s(!0),n(b,{key:2},M(y.value,(d,f)=>(s(),n("tr",{key:d.id,class:"hover:bg-gray-50 transition ease-in-out"},[e("td",V,i(f+1),1),e("td",$,i(d.name),1),e("td",A,[e("button",{class:"btn-primary py-1 px-3 rounded-md text-white bg-blue-500 hover:bg-blue-600 transition",onClick:j=>v(d)}," Edit ",8,D)])]))),128))])])]),c.value?(s(),n("div",z,i(c.value),1)):u("",!0)]),a.value&&o.value?(s(),x(k,{key:0,incomeExpenseHead:o.value,isOpen:a.value,onClose:_,class:"z-50",type:"Income"},null,8,["incomeExpenseHead","isOpen"])):u("",!0),a.value&&!o.value?(s(),x(w,{key:1,isOpen:a.value,onClose:_,class:"z-50",type:"Income"},null,8,["isOpen"])):u("",!0)],64))}};export{R as default};
