import{u as h}from"./summary-Cm0rxNg4.js";import{r as v,k as g,c as f,o as c,b as t,p as m,t as u,u as i,n as x,f as $,F as w,h as k,M as b,x as S,a as y}from"./vue-DFkF7ryY.js";import{f as V,u as D}from"./index-imp_TQtg.js";import"./vendor-BtuGy7By.js";const M={class:"flex flex-col md:flex-row gap-y-2 gap-x-8 justify-center md:justify-between items-center flex-wrap text-2xl pt-2"},C={class:"space-x-1"},H={class:"space-x-1"},j={__name:"TodaysFinanceSummary",setup(_){const a=h(),o=v(d(new Date));function d(n){const e=n.getFullYear(),l=String(n.getMonth()+1).padStart(2,"0"),s=String(n.getDate()).padStart(2,"0");return`${e}-${l}-${s}`}const p=async()=>{await a.fetchSummary({start_date:o.value,end_date:o.value})};return g(async()=>{await p()}),(n,e)=>(c(),f("div",{class:x(["card-bg p-4 md:px-8",{"animate-pulse opacity-50":i(a).loading}])},[t("div",M,[t("div",C,[e[0]||(e[0]=t("span",null,"আজকের আয়:",-1)),t("b",null,u(i(a).totalIncomes),1),e[1]||(e[1]=m(" টাকা "))]),t("div",H,[e[2]||(e[2]=t("span",null,"আজকের ব্যয়:",-1)),t("b",null,u(i(a).totalExpenses),1),e[3]||(e[3]=m(" টাকা "))]),t("div",{class:x(i(a).profit>=0?"text-green-600":"text-red-600")},[e[4]||(e[4]=m(" আজকের উদ্বৃত্ত: ")),t("b",null,u(i(a).profit),1),e[5]||(e[5]=m(" টাকা "))],2)])],2))}},B={class:"text-lg space-x-1"},T={class:"overflow-x-auto"},F={class:"grid grid-cols-24 gap-1 md:gap-2 min-w-max pt-8"},z={class:"flex flex-col gap-1 justify-center items-center absolute left-0 right-0 top-0 bottom-0 z-20 text-xs"},A={class:"-rotate-90"},N={class:"-rotate-90"},E={class:"absolute bottom-full left-0 right-0 w-full text-center text-xs pb-1"},I={__name:"TodayHourlyVisitorCartVue",setup(_){const a=v(120),o=V();g(async()=>{await o.fetchTrackStats()});const d=$(()=>Math.max(...o.hourlyStats.map(l=>l.visits))),p=l=>{const s=o.hourlyStats.find(r=>r.hour===l);return!s||!d.value?0:Math.round(a.value*(s.visits/d.value))},n=l=>{const s=o.hourlyStats.find(r=>r.hour===l);return!s||!d.value?0:s.visits},e=l=>{const s=l>=12?"PM":"AM";return`${l%12===0?12:l%12} ${s}`};return(l,s)=>(c(),f("div",{class:x(["card-bg p-4 md:p-8",{"animate-pulse":i(o).loading}])},[t("div",B,[s[0]||(s[0]=t("b",null,"*",-1)),s[1]||(s[1]=t("span",null,"আজকের ইউনিক ভিজিটর:",-1)),t("b",null,u(i(o).totalVisitsToday),1),s[2]||(s[2]=m(" জন। ")),s[3]||(s[3]=t("span",null,"প্রতি ঘন্টায় ভিজিটর:",-1))]),t("div",T,[t("div",F,[(c(),f(w,null,k(24,r=>t("div",{key:r},[t("div",{class:"border w-full relative min-w-8 content-center rounded",style:b({height:`${a.value}px`})},[t("div",z,[t("div",A,u(e(r!=24?r:0)),1),s[4]||(s[4]=t("div",{class:"rotate-90"},"-",-1)),t("div",N,u(e(r-1)),1)]),t("div",E,u(n(r-1)),1),t("div",{class:"absolute bottom-0 left-0 right-0 w-full bg-sky-600/70 rounded",style:b({height:`${p(r-1)}px`})},null,4)],4)])),64))])])],2))}},L={class:"my-container space-y-4"},P={class:"card-bg p-4 md:px-8"},R={class:"flex items-center justify-between gap-4"},U={class:"shrink-0 grow-0"},Y={class:"title-md text-3xl space-x-2"},q={class:"title-md text-3xl space-x-2"},Q={__name:"DashBoard",setup(_){const a=D(),o=v(!1);g(async()=>{await d()});const d=async(p=!1)=>{o.value=!0,(!a.user||p)&&await a.fetchUser(),o.value=!1};return(p,n)=>(c(),f("div",L,[t("div",P,[t("div",R,[t("div",U,[t("button",{onClick:n[0]||(n[0]=e=>d(!0)),type:"button",class:"btn-3 space-x-1 py-1"},n[1]||(n[1]=[t("i",{class:"fas fa-sync text-lg"},null,-1),t("span",{class:"hidden md:inline text-base pt-1"}," Reload ",-1)]))]),i(a).user?(c(),f("div",{key:0,class:x(["shrink grow flex justify-end gap-4 md:text-2xl pt-1.5",{"animate-pulse opacity-50":o.value}])},[t("p",Y,[n[2]||(n[2]=t("i",{class:"fas fa-user-circle text-gray-400"},null,-1)),t("span",null,u(i(a).user.name),1)]),t("p",q,[n[3]||(n[3]=t("i",{class:"fas fa-phone-alt text-gray-400"},null,-1)),t("span",null,u(i(a).user.phone),1)])],2)):y("",!0)])]),o.value?y("",!0):(c(),S(j,{key:0})),o.value?y("",!0):(c(),S(I,{key:1}))]))}};export{Q as default};
