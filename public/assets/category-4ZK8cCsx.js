import{C as v,h as u,D as c}from"./index-BCex656m.js";const m=v("category",()=>{const o=u([]),i=u(null),s=u(!1),l=u(null);return{categories:o,category:i,loading:s,error:l,fetchCategories:async()=>{var r,t;s.value=!0,l.value=null;try{const a=await c.get("/categories");o.value=a.data}catch(a){l.value=((t=(r=a.response)==null?void 0:r.data)==null?void 0:t.message)||"Failed to fetch categories"}finally{s.value=!1}},fetchCategory:async r=>{var t,a;s.value=!0,l.value=null;try{const e=await c.get(`/categories/${r}`);i.value=e.data}catch(e){l.value=((a=(t=e.response)==null?void 0:t.data)==null?void 0:a.message)||"Failed to fetch category"}finally{s.value=!1}},createCategory:async r=>{var t,a;s.value=!0,l.value=null;try{const e=await c.post("/categories",r);o.value.push(e.data)}catch(e){throw l.value=((a=(t=e.response)==null?void 0:t.data)==null?void 0:a.message)||"Failed to create category",e}finally{s.value=!1}},updateCategory:async(r,t)=>{var a,e;s.value=!0,l.value=null;try{const n=await c.put(`/categories/${r}`,t),g=o.value.findIndex(y=>y.id===r);g!==-1&&(o.value[g]=n.data)}catch(n){throw l.value=((e=(a=n.response)==null?void 0:a.data)==null?void 0:e.message)||"Failed to update category",n}finally{s.value=!1}},deleteCategory:async r=>{var t,a;s.value=!0,l.value=null;try{await c.delete(`/categories/${r}`),o.value=o.value.filter(e=>e.id!==r)}catch(e){throw l.value=((a=(t=e.response)==null?void 0:t.data)==null?void 0:a.message)||"Failed to delete category",e}finally{s.value=!1}}}});export{m as u};
