import{d as k,r as o,k as S,c as d,b as t,l as v,n as D,u as i,t as c,s as b,q as y,F as h,h as w,o as p}from"./vue-D0mF8XVW.js";import{b as j}from"./index-Czyahqyo.js";import"./vendor-BtuGy7By.js";const F=k("summary",()=>{const f=o([]),a=o([]),n=o(0),l=o(0),u=o(0),g=o(!1),m=o(null);return{incomes:f,expenses:a,loading:g,error:m,totalIncomes:n,totalExpenses:l,profit:u,fetchSummary:async(e={})=>{g.value=!0,m.value=null,f.value=[],a.value=[],n.value=0,l.value=0,u.value=0;try{const{data:s}=await j.get("/summary",{params:e});f.value=s.incomes||[],a.value=s.expenses||[],n.value=s.total_incomes||0,l.value=s.total_expenses||0,u.value=s.profit||0}catch{m.value="Failed to fetch summary"}finally{g.value=!1}}}}),M={class:"my-container space-y-6 py-2"},V={class:"w-full grid grid-cols-2 gap-2 md:grid-cols-4"},C={key:0,class:"bg-white animate-pulse py-12 text-xl md:text-3xl"},$={key:1,class:"bg-white py-12 text-xl"},B={class:"flex justify-center items-center gap-2 text-red-500"},E={key:2,class:"w-full grid gap-3 print:grid-cols-2 md:grid-cols-2"},I={class:"flex flex-col"},N={class:"overflow-x-auto border print:border-black"},T={class:"inline-block min-w-full align-middle"},U={class:"overflow-hidden"},Y={class:"min-w-full table-fixed divide-y divide-gray-200 print:divide-black"},q={class:"divide-y divide-gray-200 bg-white print:divide-black"},z={class:"whitespace-nowrap py-4 px-6 text-xs font-medium text-gray-900 md:text-sm text-right"},L={class:"whitespace-nowrap py-4 px-6 text-xs font-medium text-gray-900 md:text-sm text-right"},R={class:"flex justify-end gap-2"},A={class:"print:text-black"},G={class:"whitespace-nowrap py-4 px-6 text-xs font-medium text-gray-900 md:text-sm bg-gray-200 text-right"},H={class:"flex justify-end gap-2 font-bold"},J={class:"flex flex-col"},K={class:"overflow-x-auto border print:border-black"},O={class:"inline-block min-w-full align-middle"},P={class:"overflow-hidden"},Q={class:"min-w-full table-fixed divide-y divide-gray-200 print:divide-black"},W={class:"divide-y divide-gray-200 bg-white print:divide-black"},X={class:"whitespace-nowrap py-4 px-6 text-xs font-medium text-gray-900 md:text-sm text-right"},Z={class:"whitespace-nowrap py-4 px-6 text-xs font-medium text-gray-900 md:text-sm text-right"},tt={class:"flex justify-end gap-2"},et={class:"print:text-black"},st={class:"whitespace-nowrap py-4 px-6 text-xs font-medium text-gray-900 md:text-sm bg-gray-200 text-right"},at={class:"flex justify-end gap-2 font-bold"},ot={__name:"SummaryView",setup(f){const a=F(),n=o(""),l=o("");function u(r){const e=r.getFullYear(),s=String(r.getMonth()+1).padStart(2,"0"),x=String(r.getDate()).padStart(2,"0");return`${e}-${s}-${x}`}function g(){const r=new Date,e=r.getFullYear(),s=r.getMonth(),x=new Date(e,s,1),_=new Date(e,s+1,0);n.value=u(x),l.value=u(_),console.log(n.value,l.value)}const m=async()=>{await a.fetchSummary({start_date:n.value,end_date:l.value})};return S(async()=>{g(),await m()}),(r,e)=>(p(),d("div",M,[e[14]||(e[14]=t("h1",{class:"text-center text-4xl font-bold"},"আয়-ব্যয় সামারি",-1)),t("div",V,[t("div",{class:D(["input-1 text-center text-white",i(a).profit>=0?"bg-green-600 border-green-300":"bg-red-600 border-red-300"])}," উদ্বৃত্ত "+c(i(a).profit)+" টাকা ",3),v(t("input",{class:"input-1 w-full",type:"date","onUpdate:modelValue":e[0]||(e[0]=s=>n.value=s)},null,512),[[b,n.value]]),v(t("input",{class:"input-1 w-full",type:"date","onUpdate:modelValue":e[1]||(e[1]=s=>l.value=s)},null,512),[[b,l.value]]),t("button",{onClick:e[2]||(e[2]=s=>m()),type:"button",class:"btn-2 w-full h-11"},e[3]||(e[3]=[t("i",{class:"fas fa-search"},null,-1),y(" ফলাফল দেখান ")]))]),i(a).loading?(p(),d("div",C,e[4]||(e[4]=[t("div",{class:"flex justify-center items-center gap-2"},[t("i",{class:"fas fa-spinner animate-spin"}),t("span",null,"লোডিং...")],-1)]))):i(a).error?(p(),d("div",$,[t("div",B,[e[5]||(e[5]=t("i",{class:"fas fa-exclamation-triangle text-red-500"},null,-1)),t("span",null,c(i(a).error),1)])])):(p(),d("div",E,[t("div",I,[t("div",N,[t("div",T,[t("div",U,[t("table",Y,[e[9]||(e[9]=t("thead",{class:"bg-gray-300"},[t("tr",null,[t("th",{class:"py-3 px-6 text-xs font-bold uppercase tracking-wider text-gray-700 print:text-black md:text-sm text-right"},[t("div",{class:""},"আয়ের খাত")]),t("th",{class:"py-3 px-6 text-xs font-bold uppercase tracking-wider text-gray-700 print:text-black md:text-sm text-right"},[t("div",{class:""},"পরিমাণ")])])],-1)),t("tbody",q,[(p(!0),d(h,null,w(i(a).incomes,(s,x)=>(p(),d("tr",{key:x,class:"hover:bg-gray-100"},[t("td",z,c(s.name),1),t("td",L,[t("div",R,[y(c(s.amount)+" ",1),e[6]||(e[6]=t("span",null,"টাকা",-1))])])]))),128)),t("tr",A,[e[8]||(e[8]=t("td",{class:"whitespace-nowrap py-4 px-6 text-xs font-medium text-gray-900 md:text-sm bg-gray-200 text-right"},[t("span",{class:"font-bold"},"মোট")],-1)),t("td",G,[t("div",H,[y(c(i(a).totalIncomes)+" ",1),e[7]||(e[7]=t("span",null,"টাকা",-1))])])])])])])])])]),t("div",J,[t("div",K,[t("div",O,[t("div",P,[t("table",Q,[e[13]||(e[13]=t("thead",{class:"bg-gray-300"},[t("tr",null,[t("th",{class:"py-3 px-6 text-xs font-bold uppercase tracking-wider text-gray-700 print:text-black md:text-sm text-right"},[t("div",{class:""},"ব্যয়ের খাত")]),t("th",{class:"py-3 px-6 text-xs font-bold uppercase tracking-wider text-gray-700 print:text-black md:text-sm text-right"},[t("div",{class:""},"পরিমাণ")])])],-1)),t("tbody",W,[(p(!0),d(h,null,w(i(a).expenses,(s,x)=>(p(),d("tr",{key:x,class:"hover:bg-gray-100"},[t("td",X,c(s.name),1),t("td",Z,[t("div",tt,[y(c(s.amount)+" ",1),e[10]||(e[10]=t("span",null,"টাকা",-1))])])]))),128)),t("tr",et,[e[12]||(e[12]=t("td",{class:"whitespace-nowrap py-4 px-6 text-xs font-medium text-gray-900 md:text-sm bg-gray-200 text-right"},[t("span",{class:"font-bold"},"মোট")],-1)),t("td",st,[t("div",at,[y(c(i(a).totalExpenses)+" ",1),e[11]||(e[11]=t("span",null,"টাকা",-1))])])])])])])])])])]))]))}};export{ot as default};
