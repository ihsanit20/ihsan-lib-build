import{D as C,r as b,n as P,c as r,a as o,b as v,q as x,F as m,g,f as l,i as _,d as p,t as f,B as V,o as s,E as q,k as B,L as A}from"./index-Bmm_wY_4.js";import{u as F}from"./author-DzEUw7w-.js";import{u as D}from"./category-CVrnLZN9.js";import{u as L}from"./publisher-CX5GFRPo.js";const U={class:"my-container py-8 space-y-6"},E={class:"card-bg md:flex-row p-4 items-center md:space-x-4"},M={class:"w-full flex items-center gap-3"},N=["value"],R={class:"w-full flex items-center gap-3"},$=["value"],j={class:"w-full flex items-center gap-3"},z=["value"],G={key:1,class:"text-red-500 text-center"},H={key:2,class:"text-center text-gray-500"},I={key:3,class:"grid grid-cols-2 sm:grid-cols-3 md:grid-cols-4 lg:grid-cols-5 gap-4 md:gap-8"},W={__name:"AllProducts",setup(J){const y=V(),S=B(),u=C(),h=D(),w=F(),k=L(),a=b(y.query.category_id||""),d=b(y.query.author_id||""),n=b(y.query.publisher_id||""),c=async()=>{const i={};a.value&&(i.category_id=a.value),d.value&&(i.author_id=d.value),n.value&&(i.publisher_id=n.value),S.push({path:"/products",query:i}),await u.fetchFilteredProducts(i)};return P(async()=>{await h.fetchCategories(),await w.fetchAuthors(),await k.fetchPublishers(),await c()}),(i,e)=>(s(),r("div",U,[e[10]||(e[10]=o("h1",{class:"title-xl text-center"},"এক নজরে সকল বই",-1)),o("div",E,[o("div",M,[e[4]||(e[4]=o("label",{for:"category",class:"block text-sm font-medium text-gray-700"},"ক্যাটেগরি:",-1)),v(o("select",{id:"category","onUpdate:modelValue":e[0]||(e[0]=t=>a.value=t),onChange:c,class:"mt-1 block w-full px-3 py-2 bg-white border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-indigo-500 focus:border-indigo-500 sm:text-sm"},[e[3]||(e[3]=o("option",{value:""},"সব ক্যাটেগরি",-1)),(s(!0),r(m,null,g(l(h).categories,t=>(s(),r("option",{key:t.id,value:t.id},f(t.name),9,N))),128))],544),[[x,a.value]])]),o("div",R,[e[6]||(e[6]=o("label",{for:"author",class:"block text-sm font-medium text-gray-700"},"লেখক:",-1)),v(o("select",{id:"author","onUpdate:modelValue":e[1]||(e[1]=t=>d.value=t),onChange:c,class:"mt-1 block w-full px-3 py-2 bg-white border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-indigo-500 focus:border-indigo-500 sm:text-sm"},[e[5]||(e[5]=o("option",{value:""},"সব লেখক",-1)),(s(!0),r(m,null,g(l(w).authors,t=>(s(),r("option",{key:t.id,value:t.id},f(t.name),9,$))),128))],544),[[x,d.value]])]),o("div",j,[e[8]||(e[8]=o("label",{for:"publisher",class:"block text-sm font-medium text-gray-700"},"প্রকাশক:",-1)),v(o("select",{id:"publisher","onUpdate:modelValue":e[2]||(e[2]=t=>n.value=t),onChange:c,class:"mt-1 block w-full px-3 py-2 bg-white border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-indigo-500 focus:border-indigo-500 sm:text-sm"},[e[7]||(e[7]=o("option",{value:""},"সব প্রকাশক",-1)),(s(!0),r(m,null,g(l(k).publishers,t=>(s(),r("option",{key:t.id,value:t.id},f(t.name),9,z))),128))],544),[[x,n.value]])])]),l(u).loading?(s(),_(A,{key:0})):p("",!0),l(u).error?(s(),r("div",G,f(l(u).error),1)):p("",!0),!l(u).loading&&l(u).products.length===0?(s(),r("div",H,e[9]||(e[9]=[o("p",null,"কোন পণ্য পাওয়া যায়নি।",-1)]))):p("",!0),l(u).products.length>0?(s(),r("div",I,[(s(!0),r(m,null,g(l(u).products,t=>(s(),_(q,{key:t.id,book:t},null,8,["book"]))),128))])):p("",!0)]))}};export{W as default};
