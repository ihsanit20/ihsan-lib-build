import{C as m,r as u,D as o}from"./index-BUlZ0hg7.js";const h=m("payment",()=>{const r=u([]),c=u(null),s=u(null),n=u(!1);return{payments:r,payment:c,error:s,isLoading:n,fetchPayments:async(l=null)=>{var a,t;n.value=!0,s.value=null;try{const e=l?{order_id:l}:{},y=await o.get("/payments",{params:e});r.value=y.data}catch(e){s.value=((t=(a=e.response)==null?void 0:a.data)==null?void 0:t.message)||"Failed to fetch payments"}finally{n.value=!1}},fetchPayment:async l=>{var a,t;n.value=!0,s.value=null;try{const e=await o.get(`/payments/${l}`);c.value=e.data}catch(e){s.value=((t=(a=e.response)==null?void 0:a.data)==null?void 0:t.message)||"Failed to fetch payment details"}finally{n.value=!1}},addPayment:async l=>{var a,t;n.value=!0,s.value=null;try{const e=await o.post("/payments",l);return r.value.unshift(e.data.payment),e.data}catch(e){throw s.value=((t=(a=e.response)==null?void 0:a.data)==null?void 0:t.message)||"Failed to add payment",e}finally{n.value=!1}},collectDue:async l=>{var a,t;n.value=!0,s.value=null;try{const e=await o.post("/collect-due",l);return r.value.unshift(e.data.payment),e.data}catch(e){throw s.value=((t=(a=e.response)==null?void 0:a.data)==null?void 0:t.message)||"Failed to collect due payment",e}finally{n.value=!1}}}});export{h as u};
