import{r as n,k as b,j as h,i as k,c as v,b as t,J as V,e as f,a as q,l as c,s as C,L as _,n as M,w as x,m as N,t as S,p as i,o as y}from"./vue-DFkF7ryY.js";import{u as B}from"./index-CzRLlVKe.js";import"./vendor-BtuGy7By.js";const D={class:"max-w-md mx-auto my-10 px-2"},P={class:"bg-white p-6 rounded-lg shadow-md"},U={class:"relative"},j=["type"],A={key:0,class:"mt-4 text-sm text-red-500 text-center"},L={class:"mt-4 text-sm text-center"},F={__name:"LoginView",setup(R){const s=n(""),u=n(""),d=k(),p=h(),o=B(),a=n(""),r=n(!1);b(()=>{p.query.phone&&(s.value=p.query.phone),o.fetchUser(),o.user&&d.push("/")});const w=async()=>{try{await o.login(s.value,u.value),o.error?a.value=o.error:d.push("/")}catch{a.value="An unexpected error occurred. Please try again."}};return(g,e)=>{const m=N("router-link");return y(),v("div",D,[t("div",P,[e[9]||(e[9]=t("h2",{class:"title-lg text-center"},"লগইন করুন",-1)),t("form",{onSubmit:V(w,["prevent"]),class:"space-y-4"},[t("div",null,[e[3]||(e[3]=t("label",{for:"phone",class:"block font-medium text-gray-700"},"ফোন নাম্বার",-1)),c(t("input",{"onUpdate:modelValue":e[0]||(e[0]=l=>s.value=l),type:"text",id:"phone",name:"phone",class:"input-1 w-full",placeholder:"মোবাইল নাম্বার",required:""},null,512),[[C,s.value]])]),t("div",null,[e[4]||(e[4]=t("label",{for:"password",class:"block font-medium text-gray-700"},"পাসওয়ার্ড",-1)),t("div",U,[c(t("input",{"onUpdate:modelValue":e[1]||(e[1]=l=>u.value=l),type:r.value?"text":"password",id:"password",name:"password",class:"input-1 w-full",placeholder:"পাসওয়ার্ড",required:"",autofocus:""},null,8,j),[[_,u.value]]),t("button",{type:"button",class:"absolute inset-y-0 right-0 px-3 text-gray-600",onClick:e[2]||(e[2]=l=>r.value=!r.value)},[t("i",{class:M(r.value?"fas fa-eye-slash":"far fa-eye")},null,2)])])]),f(m,{to:{name:"ForgotPassword",query:{phone:s.value}},class:"text-indigo-500 hover:text-indigo-700"},{default:x(()=>e[5]||(e[5]=[i("পাসওয়ার্ড ভুলে গেছেন?")])),_:1},8,["to"]),a.value?(y(),v("div",A,S(a.value),1)):q("",!0),e[6]||(e[6]=t("div",{class:"flex justify-center"},[t("button",{type:"submit",class:"btn-2"},"লগইন")],-1))],32),t("div",L,[e[8]||(e[8]=i(" আপনার কোন একাউন্ট নেই? ")),f(m,{to:"/register",class:"text-indigo-500 hover:text-indigo-700"},{default:x(()=>e[7]||(e[7]=[i("রেজিস্টার করুন")])),_:1})])])])}}};export{F as default};
