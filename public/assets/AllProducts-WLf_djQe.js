import{p as S,r as v,q,e as C,c as r,a as o,b,s as x,F as g,x as p,m as l,y as _,i as f,t as y,k as P,o as s,z as V,L as A}from"./index-DLpTp-Ox.js";import{u as B}from"./author-CSG3DKZ4.js";import{u as F}from"./publisher-BQ7N9xNa.js";import{u as L}from"./category-p5UnH8Yn.js";const U={class:"my-container py-8 space-y-6"},D={class:"card-bg md:flex-row p-4 items-center md:space-x-4"},M={class:"w-full flex items-center gap-3"},N=["value"],z={class:"w-full flex items-center gap-3"},E=["value"],R={class:"w-full flex items-center gap-3"},$=["value"],j={key:1,class:"text-red-500 text-center"},G={key:2,class:"text-center text-gray-500"},H={key:3,class:"grid grid-cols-2 sm:grid-cols-3 md:grid-cols-4 lg:grid-cols-5 gap-4 md:gap-8"},T={__name:"AllProducts",setup(I){const u=P(),i=S(),h=L(),w=B(),k=F(),a=v(u.query.category_id||""),d=v(u.query.author_id||""),n=v(u.query.publisher_id||""),c=async()=>{const m={};a.value&&(m.category_id=a.value),d.value&&(m.author_id=d.value),n.value&&(m.publisher_id=n.value),await i.fetchFilteredProducts(m)};return q(()=>u.query,()=>{a.value=u.query.category_id||"",d.value=u.query.author_id||"",n.value=u.query.publisher_id||"",c()}),C(async()=>{await h.fetchCategories(),await w.fetchAuthors(),await k.fetchPublishers(),await c()}),(m,e)=>(s(),r("div",U,[e[10]||(e[10]=o("h1",{class:"title-xl text-center"},"এক নজরে সকল বই",-1)),o("div",D,[o("div",M,[e[4]||(e[4]=o("label",{for:"category",class:"block text-sm font-medium text-gray-700"},"ক্যাটেগরি:",-1)),b(o("select",{id:"category","onUpdate:modelValue":e[0]||(e[0]=t=>a.value=t),onChange:c,class:"mt-1 block w-full px-3 py-2 bg-white border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-indigo-500 focus:border-indigo-500 sm:text-sm"},[e[3]||(e[3]=o("option",{value:""},"সব ক্যাটেগরি",-1)),(s(!0),r(g,null,p(l(h).categories,t=>(s(),r("option",{key:t.id,value:t.id},y(t.name),9,N))),128))],544),[[x,a.value]])]),o("div",z,[e[6]||(e[6]=o("label",{for:"author",class:"block text-sm font-medium text-gray-700"},"লেখক:",-1)),b(o("select",{id:"author","onUpdate:modelValue":e[1]||(e[1]=t=>d.value=t),onChange:c,class:"mt-1 block w-full px-3 py-2 bg-white border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-indigo-500 focus:border-indigo-500 sm:text-sm"},[e[5]||(e[5]=o("option",{value:""},"সব লেখক",-1)),(s(!0),r(g,null,p(l(w).authors,t=>(s(),r("option",{key:t.id,value:t.id},y(t.name),9,E))),128))],544),[[x,d.value]])]),o("div",R,[e[8]||(e[8]=o("label",{for:"publisher",class:"block text-sm font-medium text-gray-700"},"প্রকাশক:",-1)),b(o("select",{id:"publisher","onUpdate:modelValue":e[2]||(e[2]=t=>n.value=t),onChange:c,class:"mt-1 block w-full px-3 py-2 bg-white border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-indigo-500 focus:border-indigo-500 sm:text-sm"},[e[7]||(e[7]=o("option",{value:""},"সব প্রকাশক",-1)),(s(!0),r(g,null,p(l(k).publishers,t=>(s(),r("option",{key:t.id,value:t.id},y(t.name),9,$))),128))],544),[[x,n.value]])])]),l(i).loading?(s(),_(A,{key:0})):f("",!0),l(i).error?(s(),r("div",j,y(l(i).error),1)):f("",!0),!l(i).loading&&l(i).products.length===0?(s(),r("div",G,e[9]||(e[9]=[o("p",null,"কোন পণ্য পাওয়া যায়নি।",-1)]))):f("",!0),l(i).products.length>0?(s(),r("div",H,[(s(!0),r(g,null,p(l(i).products,t=>(s(),_(V,{key:t.id,book:t},null,8,["book"]))),128))])):f("",!0)]))}};export{T as default};
