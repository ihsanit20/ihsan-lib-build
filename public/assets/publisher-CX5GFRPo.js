import{l as v,r as o,m as i}from"./index-Bmm_wY_4.js";const m=v("publisher",()=>{const u=o([]),c=o(null),t=o(!1),r=o(null);return{publishers:u,publisher:c,loading:t,error:r,fetchPublishers:async()=>{var s,l;t.value=!0,r.value=null;try{const a=await i.get("/publishers");u.value=a.data}catch(a){r.value=((l=(s=a.response)==null?void 0:s.data)==null?void 0:l.message)||"Failed to fetch publishers"}finally{t.value=!1}},fetchPublisher:async s=>{var l,a;t.value=!0,r.value=null;try{const e=await i.get(`/publishers/${s}`);c.value=e.data}catch(e){r.value=((a=(l=e.response)==null?void 0:l.data)==null?void 0:a.message)||"Failed to fetch publisher"}finally{t.value=!1}},createPublisher:async s=>{var l,a;t.value=!0,r.value=null;try{const e=await i.post("/publishers",s);u.value.push(e.data)}catch(e){throw r.value=((a=(l=e.response)==null?void 0:l.data)==null?void 0:a.message)||"Failed to create publisher",e}finally{t.value=!1}},updatePublisher:async(s,l)=>{var a,e;t.value=!0,r.value=null;try{const n=await i.put(`/publishers/${s}`,l),h=u.value.findIndex(p=>p.id===s);h!==-1&&(u.value[h]=n.data)}catch(n){throw r.value=((e=(a=n.response)==null?void 0:a.data)==null?void 0:e.message)||"Failed to update publisher",n}finally{t.value=!1}},deletePublisher:async s=>{var l,a;t.value=!0,r.value=null;try{await i.delete(`/publishers/${s}`),u.value=u.value.filter(e=>e.id!==s)}catch(e){throw r.value=((a=(l=e.response)==null?void 0:l.data)==null?void 0:a.message)||"Failed to delete publisher",e}finally{t.value=!1}}}});export{m as u};
