import{u as w,_ as N}from"./AddStock-DVm-4hjN.js";import{h as n,l as S,B as L,c as l,a as e,f as x,F as g,r as B,t as r,e as m,z as D,o,L as k,d as c,p as C,s as V}from"./index-B9QrrNei.js";const I={class:"my-container space-y-4"},M={class:"overflow-x-auto bg-white shadow rounded-lg"},j={class:"table-auto w-full border-collapse border border-gray-200"},A={key:0},O={colspan:"8",class:"text-center py-6"},z={class:"flex justify-center items-center space-x-2"},F={key:1},P={class:"px-4 py-3 border border-gray-200"},R={class:"px-4 py-3 border border-gray-200"},$=["src"],E={class:"px-4 py-3 border border-gray-200"},T={class:"title-md line-clamp-1"},q={class:"flex gap-2 text-sm"},G={class:""},H={class:""},J={class:"px-4 py-3 border border-gray-200 text-center"},K={class:"px-4 py-3 border border-gray-200 text-center"},Q={class:"px-4 py-3 border border-gray-200 text-center text-green-600 font-bold"},U={class:"px-4 py-3 border border-gray-200 text-center"},W={class:"flex justify-center gap-4 min-w-max"},X=["onClick"],Y={key:0,class:"mt-4 text-red-600 text-sm text-center"},re={__name:"StockList",setup(Z){const b=w(),d=n(!1),i=n(null),p=n(null),u=n(null),y=n(!0);S(async()=>{try{await b.fetchAvailableStocks()}catch(a){u.value=a.message}finally{y.value=!1}});const _=L(()=>[...b.stocks].sort((a,t)=>new Date(t.created_at)-new Date(a.created_at))),v=(a,t)=>{i.value=a,p.value=t,d.value=!0},h=()=>{d.value=!1,i.value=null,p.value=null};return(a,t)=>{const f=V("RouterLink");return o(),l(g,null,[e("div",I,[t[6]||(t[6]=e("h4",{class:"title-lg"},"পণ্যের স্টক তালিকা",-1)),e("div",M,[e("table",j,[t[5]||(t[5]=e("thead",null,[e("tr",{class:"bg-gray-200 text-left text-gray-700 uppercase text-sm tracking-wider"},[e("th",{class:"px-4 py-3 border border-gray-200"},"#"),e("th",{class:"px-4 py-3 border border-gray-200"},"পণ্যের ছবি"),e("th",{class:"px-4 py-3 border border-gray-200"},"পণ্যের নাম"),e("th",{class:"px-4 py-3 border border-gray-200 text-center"},"মোট স্টক"),e("th",{class:"px-4 py-3 border border-gray-200 text-center"},"মোট বিক্রয়"),e("th",{class:"px-4 py-3 border border-gray-200 text-center"},"বর্তমান স্টক"),e("th",{class:"px-4 py-3 border border-gray-200 text-center"},"একশন")])],-1)),e("tbody",null,[y.value?(o(),l("tr",A,[e("td",O,[e("div",z,[x(k,{class:"shadow-none"})])])])):_.value.length===0?(o(),l("tr",F,t[0]||(t[0]=[e("td",{colspan:"8",class:"text-center py-6 text-gray-500"},"No stocks found",-1)]))):(o(!0),l(g,{key:2},B(_.value,s=>(o(),l("tr",{key:s.id,class:"hover:bg-gray-50 transition ease-in-out"},[e("td",P,r(s.id),1),e("td",R,[e("img",{src:s==null?void 0:s.photo,alt:"Img",class:"size-10 object-cover"},null,8,$)]),e("td",E,[e("p",T,r(s==null?void 0:s.name),1),e("div",q,[e("p",G,[t[1]||(t[1]=e("b",null,"খুচরা মূল্য:",-1)),c(" "+r(Number(s.mrp).toLocaleString("bn-BD"))+" টাকা ",1)]),t[3]||(t[3]=c(" | ")),e("p",H,[t[2]||(t[2]=e("b",null,"বিক্রয় মূল্য:",-1)),c(" "+r(Number(s.selling_price).toLocaleString("bn-BD"))+" টাকা ",1)])])]),e("td",J,r(s.total_stock),1),e("td",K,r(s.total_sold),1),e("td",Q,r(s.available_stock),1),e("td",U,[e("div",W,[x(f,{to:{name:"StockDetails",params:{id:s.id}},class:"btn-3"},{default:C(()=>t[4]||(t[4]=[c(" Details ")])),_:2},1032,["to"]),e("button",{onClick:ee=>v(s.id,s.name),class:"btn-2"}," Add Stock ",8,X)])])]))),128))])])]),u.value?(o(),l("div",Y,r(u.value),1)):m("",!0)]),d.value?(o(),D(N,{key:0,isOpen:d.value,productId:i.value,productName:p.value,onClose:h},null,8,["isOpen","productId","productName"])):m("",!0)],64)}}};export{re as default};
