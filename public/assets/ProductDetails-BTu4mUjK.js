import{p as V,r as m,A as $,e as q,B as A,q as F,c as i,a as s,g as D,h as j,y as R,t as a,j as r,m as c,b as M,v as T,F as v,x as f,k as U,l as E,o as n,L as Q}from"./index-CocE4riB.js";const z={class:"my-container space-y-4 py-4"},G={class:"flex justify-between gap-4"},H={key:1,class:"grid md:grid-cols-3 md:gap-8 gap-4 bg-white shadow rounded-lg p-6"},J={class:"space-y-4 flex flex-col items-center"},K={class:"w-full flex items-center justify-center"},O=["src"],W={class:"md:col-span-2 grid gap-4"},X={class:"title-lg"},Y={class:"flex gap-2 text-sm"},Z={class:""},h={class:""},tt={class:"flex justify-center items-center mt-2"},st={key:0,class:"flex items-center gap-2"},et={class:"list-disc list-inside"},lt={class:"list-disc list-inside"},nt={class:"text-lg font-semibold"},ot={class:"text-lg font-semibold"},it={class:"text-gray-700"},rt={__name:"ProductDetails",setup(at){const b=V(),I=U().params.id,l=m(null),p=m(!1),u=$(),d=m(0);q(async()=>{try{p.value=!0,await b.fetchProduct(I),l.value=b.product}catch(o){console.error("Failed to fetch product:",o)}finally{p.value=!1}});const P=A(()=>{const o=u.cartItems.find(t=>t.id===props.product.id);return o&&(d.value=o.quantity),!!o});return F(d,o=>{o&&u.updateQuantity(props.product,o)}),(o,t)=>{var y,x,k,w,B,N,_,S,L,C;const g=E("RouterLink");return n(),i("div",z,[s("div",G,[D(g,{to:{name:"AllProducts"},class:"btn-3"},{default:j(()=>t[5]||(t[5]=[s("i",{class:"far fa-arrow-left"},null,-1),s("span",{class:"hidden md:flex"},"Back",-1)])),_:1}),t[7]||(t[7]=s("h1",{class:"title-md md:title-xl flex-wrap text-center"},"পণ্য বিস্তারিত",-1)),D(g,{to:"/",class:"btn-2"},{default:j(()=>t[6]||(t[6]=[s("i",{class:"far fa-home"},null,-1),s("span",{class:"hidden md:flex"},"হোম",-1)])),_:1})]),p.value?(n(),R(Q,{key:0})):(n(),i("div",H,[s("div",J,[s("div",K,[s("img",{src:o.previewUrl||((y=l.value)==null?void 0:y.photo),alt:"Photo",class:"rounded-md w-full object-cover"},null,8,O)])]),s("div",W,[s("h1",X,a((x=l.value)==null?void 0:x.name),1),s("div",Y,[s("p",Z,[t[8]||(t[8]=s("b",null,"খুচরা মূল্য:",-1)),r(" "+a(Number((k=l.value)==null?void 0:k.mrp).toLocaleString("bn-BD"))+" টাকা ",1)]),t[10]||(t[10]=r(" | ")),s("p",h,[t[9]||(t[9]=s("b",null,"বিক্রয় মূল্য:",-1)),r(" "+a(Number((w=l.value)==null?void 0:w.selling_price).toLocaleString("bn-BD"))+" টাকা ",1)])]),s("div",tt,[P.value?(n(),i("div",st,[s("button",{type:"button",onClick:t[0]||(t[0]=e=>c(u).decrement(l.value)),class:"btn-icon"},t[11]||(t[11]=[s("i",{class:"fas fa-minus"},null,-1)])),M(s("input",{onBlur:t[1]||(t[1]=e=>c(u).updateQuantity(l.value,Number(d.value))),type:"number",class:"w-14 text-center py-1 rounded border","onUpdate:modelValue":t[2]||(t[2]=e=>d.value=e)},null,544),[[T,d.value]]),s("button",{type:"button",onClick:t[3]||(t[3]=e=>c(u).increment(l.value)),class:"btn-icon"},t[12]||(t[12]=[s("i",{class:"fas fa-plus"},null,-1)]))])):(n(),i("button",{key:1,type:"button",onClick:t[4]||(t[4]=e=>c(u).increment(l.value)),class:"btn-icon"},t[13]||(t[13]=[s("i",{class:"fas fa-cart-plus"},null,-1)])))]),s("div",null,[t[14]||(t[14]=s("h2",{class:"text-lg font-semibold"},"লেখক ও অনুবাদক:",-1)),s("ul",et,[(n(!0),i(v,null,f((B=l.value)==null?void 0:B.authors,e=>(n(),i("li",{key:e.id},a(e==null?void 0:e.name)+" (লেখক)",1))),128)),(n(!0),i(v,null,f((N=l.value)==null?void 0:N.translators,e=>(n(),i("li",{key:e.id},a(e==null?void 0:e.name)+" (অনুবাদক) ",1))),128))])]),s("div",null,[t[15]||(t[15]=s("h2",{class:"text-lg font-semibold"},"ক্যাটাগরি:",-1)),s("ul",lt,[(n(!0),i(v,null,f((_=l.value)==null?void 0:_.categories,e=>(n(),i("li",{key:e},a(e),1))),128))])]),s("p",nt,[t[16]||(t[16]=s("b",null,"স্টক:",-1)),r(" "+a(Number((S=l.value)==null?void 0:S.available_stock).toLocaleString("bn-BD"))+" টি ",1)]),s("p",ot,[t[17]||(t[17]=s("b",null,"ISBN:",-1)),r(" "+a(((L=l.value)==null?void 0:L.ISBN)||"N/A"),1)]),s("div",null,[t[18]||(t[18]=s("h2",{class:"text-lg font-semibold"},"বিস্তারিত:",-1)),s("p",it,a(((C=l.value)==null?void 0:C.description)||"No description available."),1)])])]))])}}};export{rt as default};
